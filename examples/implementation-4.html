<!-- 
See https://github.com/syncapse-developers/syncapse-event-track for more info
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="https://www.facebook.com/2008/fbml">
 <head>
   	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   	<title>Event Track Example #4</title>   	
	<style type="text/css">
	body {
		width: 510px; 
		margin: 0; padding: 0;
	}
	</style>
 </head>
<body>

<h3>Syncapse Event Track Example #4</h3>
<ul>
	<li><a href="implementation-1.html">View Example #1</a></li>
	<li><a href="implementation-2.html">View Example #2</a></li>
	<li><a href="implementation-3.html">View Example #3</a></li>
	<li><a href="implementation-4.html">View Example #4</a></li>
	<li><a href="implementation-5.html">View Example #5</a></li>
	<li><a href="implementation-6.html">View Example #6</a></li>
</ul>

<p>
	<!-- This link will be tracked automatically by Event Track as a link-click event -->
	<a href="#default-link">A default link</a>
	<br/>

	<!-- This link will be tracked automatically by Event Track as a link-click-test-1 event -->
	<a href="#link-test-1" data-track="link-click-test-1">My Test Link</a>
	<br/>

	<!-- This link will be NOT tracked automatically by Event Track -->
	<a href="#link-test-1" data-track="false">An Untracked Link</a>
	<br/>

	<!-- This form will be tracked automatically by Event Track event as a form-submit event -->
	<form action="#default-form" method="GET">
		<div>Default form</div>
		<input type="submit" />
	</form>

	<!-- This form will be tracked automatically by Event Track event as a form-submit-test-1 event -->
	<form action="#form-test-1" method="GET" data-track="form-submit-test-1">
		<div>Custom track form</div>
		<input type="submit" />
	</form>
</p>

<div data-track-children="parent-div">
	<p data-track-children="parent-paragraph">
		<!-- This link will be tracked automatically by Event Track. Because of its parent elements,
		  it will be tracked as a link-click-test-2-parent-paragraph-parent-div event -->
		<a href="#link-test-1" data-track="link-click-test-2">A nested link test</a>
	</p>
</div>

<p>
	Event Track is part of the Syncapse Analytics Suite. For more information, please see:
	<ul>
		<li><a href="http://www.syncapse.com/platform/measure" target="_blank">http://www.syncapse.com/platform/measure</a></li>
		<li><a href="https://developers.syncapse.com/documentation" target="_blank">https://developers.syncapse.com/documentation</a></li>
	</ul>
</p>



<!-- Load FB JS SDK -->
<div id="fb-root"></div>
<script>
(function() {
    var e = document.createElement('script');
    e.src = document.location.protocol + '//connect.facebook.net/en_US/all.js';
    e.async = true;
    document.getElementById('fb-root').appendChild(e);
}());  
</script>

<!-- Load jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>


<script type="text/javascript">
//<![CDATA[

var app_id = '245156032227773'; // The Event Track 2.2 iframe Demo App
var tab_url = "http://www.facebook.com/pages/Event-Tracking-Demo/169269273142241?sk=app_" + app_id;
var params = {
	source: tab_url, // this must be of the form http://www.facebook.com/PAGENAME?sk=app_APPID 
    debug: true      // set this to false in production
};

var _spet = _spet || {};
_spet.config = params;

(function(s, d, t, v) {
  var a = s.config.adaptors || {SPET:{}}, l = [], i;
  for (i in a) { l.push(i); }; a = l.join(',');
  var f = d.getElementsByTagName(t)[0], e = d.createElement(t); e.async = 1;
  e.src = '//assets.syngrid.com/event-track/v/'+v+'?a='+a+'&debug='+s.config.debug; 
  f.parentNode.insertBefore(e, f);
  s.q = []; s.track = function(){ s.q.push(Array.prototype.slice.call(arguments)); };
})(_spet, document, 'script', '2.2');

window.fbAsyncInit = function() {
	var app_id = '245156032227773';
	var channel_url = '//developers.syncapse.com/syncapse-event-track/static/channel.html';
	// Trigger a resize event
	FB.Canvas.setAutoResize();        
	// Run the main FB.init
	FB.init({
		appId      : app_id,     // your FB application ID
		status     : true,       // check login status on load
		cookie     : true,       // enable cookies to allow the server to access the session
		xfbml      : true,       // parse XFBML on load
		channelUrl : channel_url // Custom Channel URL
	});
	console.info("FB.init called");
};
//]]>
</script>

</body>
</html>
